library(tibble)
library(lubridate)

invoice_line_item <- tribble(
  ~id, ~service_identifier, ~service_type_code, ~service_instance_id, ~ctsi_study_id, ~name_of_service, ~name_of_service_instance, ~other_system_invoicing_comments, ~price_of_service, ~qty_provided, ~amount_due, ~fiscal_year, ~month_invoiced, ~pi_last_name, ~pi_first_name, ~pi_email, ~gatorlink, ~crc_number, ~ids_number, ~ocr_number, ~invoice_number, ~je_number, ~je_posting_date, ~reason, ~status, ~sender, ~recipient, ~date_sent, ~date_received, ~script_name, ~created, ~updated,
  1, "1-6490", 1, "6490", 1919, "REDCap Project Hosting", "Action Tags Demo", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=6490", 100, 1, 100, "2020-2021", "June", "Stuff", "Karen", "kls@ufl.edu", "kls", 1234, NA, NA, "20210601-99", "CTSI012345", ymd_hms("2021-06-06 10:10:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2021-06-01 06:30:00", tz = "UTC"), "receive_payment", ymd_hms("2021-06-01 06:30:00", tz = "UTC"), ymd_hms("2021-06-05 10:10:00", tz = "UTC"),
  2, "1-2345", 1, "2345", 1920, "REDCap Project Hosting", "My Cool Study", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=2345", 100, 1, 100, "2020-2021", "June", "Chase", "Pris", "pris.chase@ufl.edu", "pris.chase", 1234, NA, "OCR9000", "20210710-99", "CTSI012346", ymd_hms("2021-07-14 12:30:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2021-07-15 12:30:00", tz = "UTC"), "receive_payment", ymd_hms("2021-06-01 06:30:00", tz = "UTC"), ymd_hms("2021-07-15 12:30:00", tz = "UTC"),
  3, "1-3456", 1, "3456", 2929, "REDCap Project Hosting", "Your Cool Study", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=3456", 100, 1, 100, "2020-2021", "June", "Stoffs", "Eunice", "estoffs@ufl.edu", "estoffs", 1234, NA, "OCR9001", "20210701-99", "CTSI012347", ymd_hms("2021-07-03 08:50:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2021-07-03 14:50:00", tz = "UTC"), "receive_payment", ymd_hms("2021-06-01 06:30:00", tz = "UTC"), ymd_hms("2021-07-03 14:50:00", tz = "UTC"),
  4, "1-4567", 1, "4567", 3030, "REDCap Project Hosting", "YANCS", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=4567", 100, 1, 100, "2020-2021", "June", "Zeitler", "Joyce", "zeitler@ufl.edu", "zeitler", NA, NA, "OCR9002", "20210825-99", "CTSI012348", ymd_hms("2021-09-03 09:20:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2021-09-04 09:20:00", tz = "UTC"), "receive_payment", ymd_hms("2021-06-01 06:30:00", tz = "UTC"), ymd_hms("2021-09-04 09:20:00", tz = "UTC"),
  5, "3-jane@esu.edu", 3, "jane@esu.edu", 3333, "redcap_table_account_prod", NA, "Sponsor Gatorlink: pbc, PI Name: Tank McNamara", 35, 1, 35, "2021-2022", "July", "McNamara", "Tank", "tank@ufl.edu", "tank", NA, NA, "OCR9010", NA, "CTSI012349", ymd_hms("2021-07-14 14:00:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2021-07-14 14:20:00", tz = "UTC"), "receive_payment", ymd_hms("2021-07-01 06:30:00", tz = "UTC"), ymd_hms("2021-07-14 14:20:00", tz = "UTC"),
  6, "3-john@esu.edu", 3, "john@esu.edu", 3334, "redcap_table_account_prod", NA, "Sponsor Gatorlink: pbc, PI Name: Tank McNamara", 35, 1, 35, "2021-2022", "July", "McNamara", "Tank", "tank@ufl.edu", "tank", NA, NA, "OCR9010", NA, "CTSI012350", ymd_hms("2021-07-14 14:05:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2021-07-14 14:20:00", tz = "UTC"), "receive_payment", ymd_hms("2021-07-01 06:30:00", tz = "UTC"), ymd_hms("2021-07-14 14:20:00", tz = "UTC"),
  7, "3-jane@esu.edu", 3, "jane@esu.edu", 3333, "redcap_table_account_prod", NA, "Sponsor Gatorlink: pbc, PI Name: Tank McNamara", 35, 1, 35, "2021-2022", "January", "McNamara", "Tank", "tank@ufl.edu", "tank", NA, NA, "OCR9010", NA, "CTSI012351", ymd_hms("2022-01-14 15:15:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2022-01-14 16:20:00", tz = "UTC"), "receive_payment", ymd_hms("2022-01-01 06:30:00", tz = "UTC"), ymd_hms("2022-01-14 16:20:00", tz = "UTC"),
  8, "3-john@esu.edu", 3, "john@esu.edu", 3334, "redcap_table_account_prod", NA, "Sponsor Gatorlink: pbc, PI Name: Tank McNamara", 35, 1, 35, "2021-2022", "January", "McNamara", "Tank", "tank@ufl.edu", "tank", NA, NA, "OCR9010", NA, "CTSI012352", ymd_hms("2022-01-14 15:15:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2022-01-14 16:20:00", tz = "UTC"), "receive_payment", ymd_hms("2022-01-01 06:30:00", tz = "UTC"), ymd_hms("2022-01-14 16:20:00", tz = "UTC"),
  9, "3-jim@example.org", 3, "jim@example.org", 3335, "redcap_table_account_prod", NA, "Sponsor Gatorlink: cpb, PI Name: Christopher Barnes", 35, 1, 35, "2021-2022", "February", "Barnes", "Chris", "cpb@ufl.edu", "cpb", NA, NA, NA, NA, "CTSI012353", ymd_hms("2022-02-23 16:05:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2022-02-23 17:00:00", tz = "UTC"), "receive_payment", ymd_hms("2022-02-01 06:30:00", tz = "UTC"), ymd_hms("2022-02-23 17:00:00", tz = "UTC"),
  10, "5-6490", 5, "6490", 565656, "redcap_mobile", "Action Tags Demo", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/MobileApp/index.php?pid=6490", 1000, 1, 1000, "2021-2022", "March", "Stoffs", "Taryn", "tls@ufl.edu", "tls", NA, NA, NA, NA, "CTSI012354", ymd_hms("2022-02-23 16:00:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2022-02-23 17:00:00", tz = "UTC"), "receive_payment", ymd_hms("2022-02-01 06:30:00", tz = "UTC"), ymd_hms("2022-02-23 17:00:00", tz = "UTC"),
  11, "5-2345", 5, "2345", 787878, "redcap_mobile", "My Cool Study", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/MobileApp/index.php?pid=2345", 1000, 1, 1000, "2021-2022", "April", "Chase", "Pris", "pris.chase@ufl.edu", "pris.chase", NA, NA, NA, NA, "CTSI012355", ymd_hms("2022-03-09 10:11:00", tz = "UTC"), "Item paid", "paid", "billing-team@example.org", "ctsit@example.org", NA, ymd_hms("2022-03-09 11:11:00", tz = "UTC"), "receive_payment", ymd_hms("2022-03-01 06:30:00", tz = "UTC"), ymd_hms("2022-03-09 11:11:00", tz = "UTC"),
  12, "1-6490", 1, "6490", 1919, "REDCap Project Hosting", "Action Tags Demo", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=6490", 100, 1, 100, "2021-2022", "June", "Stoffs", "Taryn", "tls@ufl.edu", "tls", 1234, NA, NA, NA, NA, NA, "New item to be invoiced", "sent", "ctsit@example.org", "billing-team@example.org", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), NA, "bill_for_project", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), ymd_hms("2022-06-02 06:30:00", tz = "UTC"),
  13, "1-2345", 1, "2345", 1920, "REDCap Project Hosting", "My Cool Study", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=2345", 100, 1, 100, "2021-2022", "June", "Chase", "Pris", "pris.chase@ufl.edu", "pris.chase", 1234, NA, "OCR9000", NA, NA, NA, "New item to be invoiced", "sent", "ctsit@example.org", "billing-team@example.org", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), NA, "bill_for_project", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), ymd_hms("2022-06-02 06:30:00", tz = "UTC"),
  14, "1-3456", 1, "3456", 2929, "REDCap Project Hosting", "Your Cool Study", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=3456", 100, 1, 100, "2021-2022", "June", "Stoffs", "Eunice", "estoffs@ufl.edu", "estoffs", 1234, NA, "OCR9001", NA, NA, NA, "New item to be invoiced", "sent", "ctsit@example.org", "billing-team@example.org", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), NA, "bill_for_project", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), ymd_hms("2022-06-02 06:30:00", tz = "UTC"),
  15, "1-4567", 1, "4567", 3030, "REDCap Project Hosting", "YANCS", "https://redcap.ctsi.ufl.edu/redcap/redcap_v11.3.4/index.php?pid=4567", 100, 1, 100, "2021-2022", "June", "Zeitler", "Joyce", "zeitler@ufl.edu", "zeitler", NA, "IDS-9999", "OCR9002", NA, NA, NA, "New item to be invoiced", "sent", "ctsit@example.org", "billing-team@example.org", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), NA, "bill_for_project", ymd_hms("2022-06-02 06:30:00", tz = "UTC"), ymd_hms("2022-06-02 06:30:00", tz = "UTC")
)

invoice_line_item <- dplyr::mutate(invoice_line_item,
  fiscal_contact_fn = c(NA_character_),
  fiscal_contact_ln = c(NA_character_),
  fiscal_contact_name = c(NA_character_), # paste(fiscal_contact_fn, fiscal_contact_ln
  fiscal_contact_email = c(NA_character_),
  .after = "gatorlink"
)

saveRDS(
  invoice_line_item,
  testthat::test_path(
    "invoice_line_item",
    "invoice_line_item.rds"
  )
)
